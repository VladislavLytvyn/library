{% extends 'homepage/homepage.html' %}
<body>
{% block title %}<title>Books</title>{% endblock %}
{% block content %}
{#    <div class="bg-image" style="background-image: url('https://wikiimg.tojsiabtv.com/wikipedia/commons/thumb/2/21/Bibliothèque_de_l%27Assemblée_Nationale_%28Lunon%29.jpg/1200px-Bibliothèque_de_l%27Assemblée_Nationale_%28Lunon%29.jpg');#}
{#               height: 100vh;">#}
        <br>
{#        <form method="POST" enctype="multipart/form-data">#}
{#            {% csrf_token %}#}
{#            {{ form.as_p }}#}
{#            <button type="submit">Submit form</button>#}
{#        </form>#}


        {{ error_book_id }}
        <form method="post" class='form-inline'>
            {% csrf_token %}
            <div class="form-group mb-2">
                {{ form.opt }}
            </div>
            <div class="form-group mb-2">
                {{ form.title }}
            </div>
            <button type="submit" name='book' class="btn btn-primary mb-2">Submit</button>
        </form>
       <div>
        <table class="table table-bordered table-dark">
            <thead class="thead-dark">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Count</th>
                <th>Author</th>
            </tr>
            </thead>
            <tbody>
            {% for book in books %}
                <tr>
                    <td><a href="{% url 'view_book' book.id %}">{{ book.id }}</a></td>
                    <td><a href="{% url 'view_book' book.id %}">{{ book.name }}</a></td>
                    <td><a href="{% url 'view_book' book.id %}">{{ book.description }}</a></td>
                    <td><a href="{% url 'view_book' book.id %}">{{ book.count }}</a></td>
                    <td>
                        {% for author in book.authors.all %}
                            <a href="{% url 'view_author' author.id %}">{{ author.name }} {{ author.surname }}</a>,
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>


{#    <div class="row">#}
{#        <div class="large-3 large-offset-5 columns">#}
{#            <ul class="pagination">#}

{#                {% if books.has_previous %}#}
{#                    <li class="arrow"><a href="/page/{{ books.previous_page_number }}/">&laquo;</a></li>#}
{#                {% else %}#}
{#                    <li class="arrow unavailable"><a href="">&laquo;</a></li>#}
{#                {% endif %}#}
{#                {% for page in books.paginator.page_range %}#}
{#                    {% if page == books.number %}#}
{#                        <li class="current"><a href="/page/{{ page }}/">{{ page }}</a></li>#}
{#                    {% else %}#}
{#                        <li><a href="/page/{{ page }}/">{{ page }}</a></li>#}
{#                    {% endif %}#}
{#                {% endfor %}#}
{#                {% if books.has_next %}#}
{#                    <li class="arrow"><a href="/page/{{ books.next_page_number }}/">&raquo;</a></li>#}
{#                {% else %}#}
{#                    <li class="arrow unavailable"><a href="">&raquo;</a></li>#}
{#                {% endif %}#}
                <br>
                {% if books.has_previous %}
                    <li><a href="/book/page/{{ books.previous_page_number }}/">&laquo;</a></li>
                {% else %}
                    <li><a href="">&laquo;</a></li>
                {% endif %}

                {% for page in books.paginator.page_range %}
                    {% if page == books.number %}
                        <li><a href="/book/page/{{ page }}/">{{ page }}</a></li>
                    {% else %}
                        <li><a href="/book/page/{{ page }}/">{{ page }}</a></li>
                    {% endif %}
                {% endfor %}

                {% if books.has_next %}
                    <li><a href="/book/page/{{ books.next_page_number }}/">&raquo;</a></li>
                {% else %}
                    <li><a href="">&raquo;</a></li>
                {% endif %}
{#            </ul>#}
{#        </div>#}
{#    </div>#}


{#    {% include 'homepage/paginator.html' with data=books %}#}
{% endblock %}
</body>

